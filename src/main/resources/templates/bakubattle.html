<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>BakuBattle</title>
        <link rel="stylesheet" th:href="@{/styles/style.css}" />
        <link rel="stylesheet" th:href="@{/styles/style_bakubattle.css}" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script th:src="@{/scripts/gameplay.js}"></script>
        <script th:src="@{/scripts/classes.js}"></script>
        <script th:src="@{/scripts/display.js}"></script>
        <script th:src="@{/scripts/act.js}"></script>
        <script th:src="@{/scripts/gamechat.js}"></script>
    </head>
    <body>
        <video autoplay muted loop id="myVideo">
            <source th:src="@{/mp4/Arena_vid.mp4}" type="video/mp4">
        </video>
        <div class="container-fluid">

            <div class="row d-flex justify-content-between align-items-center">

                <div class="player1-container col-2">
                    <img id="player1-photo" th:src="@{/photos/bakugan/Apophix_Aquos.png}" alt="player1-photo" style="width:100%;"/>
                    <div>
                        <span class="rangeValue_hp player1_hp" id="player1-hp-value">0</span>
                        <input class="range_hp player1_hp-bar" id="player1-hp-bar" type="range" value="0" min="0" max="5000">
                        <label id="player1-hp-bar-changes" for="player1-hp-bar" class="labels ml-5 pl-5" style="top:35%;left:160%;"></label>
                    </div>

                    <div>
                        <span class="rangeValue_xp player1_xp" id="player1-xp-value">0</span>
                        <input class="range_xp player1_xp-bar" id="player1-xp-bar" type="range" value="0" min="0" max="100">
                        <label id="player1-xp-bar-changes" for="player1-xp-bar" class="labels ml-5 pl-5" style="top:48%;left:140%;"></label>
                    </div>

                    <label for="player1-photo" class="nick ml-5 pl-5" id="player1-nick" style="top:20%;left:55%;">ROSEK</label>

                </div>

                <div class="player2-container col-2">
                    <img id="player2-photo" th:src="@{/photos/bakugan/Apophix_Aquos.png}" alt="player2-photo" style="width:100%;"/>
                    <div>
                        <span class="rangeValue_hp player2_hp" id="player2-hp-value">0</span>
                        <input class="range_hp player2_hp-bar" id="player2-hp-bar" type="range" value="0" min="0" max="5000">
                        <label id="player2-hp-bar-changes" for="player2-hp-bar" class="labels ml-5 pl-5" style="top:35%;right:192%;"></label>
                    </div>

                    <div>
                        <span class="rangeValue_xp player2_xp" id="player2-xp-value">0</span>
                        <input class="range_xp player2_xp-bar" id="player2-xp-bar" type="range" value="0" min="0" max="100">
                        <label id="player2-xp-bar-changes" for="player2-xp-bar" class="labels ml-5 pl-5" style="top:48%;right:175%;"></label>
                    </div>

                    <label for="player2-photo" class="nick" id="player2-nick" style="top:20%;right:85%;">ROSEK</label>

                </div>

            </div>

            <div class="row d-flex justify-content-center align-items-center">
                <div id="card1" class="card box p-1 mx-5 d-flex justify-content-center align-items-center" style="background: #000;" onclick="action = this.id;">
                    <span></span>
                    <div class="card-inner">
                        <div class="card-front d-flex justify-content-center align-items-center flex-column">
                            <label id="who-goes1" for="card1-img-back" style="font-size: 1.4rem;color: #f3f9f9;">Rosek</label>
                            <img id="card1-img-back" th:src="@{/photos/aquos.jpg}" width="70%">
                        </div>
                        <div class="card-back d-flex justify-content-center align-items-center flex-column">
                            <img id="card1-img" th:src="@{/photos/aquos.jpg}" style="width:70%">
                            <label for="card1-img" id="card1-name" class="name-skill mt-2">Rozszczepienie</label>
                            <label for="card1-img" id="card1-type" class="text-warning type-skill"> attack-area</label>
                            <label for="card1-img" id="card1-desc" class="desc-skill">This skill gives you 400g and takes 400g from the opponent</label>
                        </div>
                    </div>
                </div>
                <div id="card2" class="card box p-1 mx-5 d-flex justify-content-center align-items-center flex-column" style="background: #000;" onclick="action = this.id;">
                    <span></span>
                    <div class="card-inner">
                        <div class="card-front d-flex justify-content-center align-items-center flex-column">
                            <label id="who-goes2" for="card2-img-back" style="font-size: 1.4rem;color: #f3f9f9;">Rosek</label>
                            <img id="card2-img-back" th:src="@{/photos/aquos.jpg}" width="70%">
                        </div>
                        <div class="card-back d-flex justify-content-center align-items-center flex-column">
                            <img id="card2-img" th:src="@{/photos/aquos.jpg}" style="width:70%">
                            <label for="card2-img" id="card2-name" class="name-skill mt-2">Rozszczepienie</label>
                            <label for="card2-img" id="card2-type" class="text-warning type-skill"> attack-area</label>
                            <label for="card2-img" id="card2-desc" class="desc-skill">This skill gives you 400g and takes 400g from the opponent</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row d-flex justify-content-between align-items-center">

                <div class="player3-container col-2">
                    <label for="player3-photo" class="nick ml-5 pl-5" id="player3-nick" style="position: absolute;top:20%;left:55%;">ROSEK</label>
                    <img id="player3-photo" th:src="@{/photos/bakugan/Apophix_Aquos.png}" alt="player3-photo" style="width:100%;"/>

                    <div>
                        <span class="rangeValue_hp player3_hp" id="player3-hp-value">0</span>
                        <input class="range_hp player3_hp-bar" id="player3-hp-bar" type="range" value="0" min="0" max="5000">
                        <label id="player3-hp-bar-changes" for="player3-hp-bar" class="labels ml-5 pl-5" style="top:36%;left:160%;"></label>
                    </div>

                    <div>
                        <span class="rangeValue_xp player3_xp" id="player3-xp-value">0</span>
                        <input class="range_xp player3_xp-bar" id="player3-xp-bar" type="range" value="0" min="0" max="100">
                        <label id="player3-xp-bar-changes" for="player3-xp-bar" class="labels ml-5 pl-5" style="top:49%;left:140%;"></label>
                    </div>
                </div>

                <div class="player4-container col-2">
                    <label for="player4-photo" class="nick ml-5 pl-5" id="player4-nick" style="position: absolute;top:20%;right:85%;">ROSEK</label>
                    <img id="player4-photo" th:src="@{/photos/bakugan/Apophix_Aquos.png}"  alt="player4-photo" style="width:100%;"/>

                    <div>
                        <span class="rangeValue_hp player4_hp" id="player4-hp-value">0</span>
                        <input class="range_hp player4_hp-bar" id="player4-hp-bar" type="range" value="0" min="0" max="5000">
                        <label id="player4-hp-bar-changes" for="player4-hp-bar" class="labels ml-5 pl-5" style="top:36%;right:192%;"></label>
                    </div>

                    <div>
                        <span class="rangeValue_xp player4_xp" id="player4-xp-value">0</span>
                        <input class="range_xp player4_xp-bar" id="player4-xp-bar" type="range" value="0" min="0" max="100">
                        <label id="player4-xp-bar-changes" for="player4-xp-bar" class="labels ml-5 pl-5" style="top:49%;right:175%;"></label>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script th:inline="javascript" type="text/javascript">
            function showPlayer(player){
                showHp(player.id,player.bakugan.hp, document.getElementById("player"+player.id+"-hp-value").innerHTML);
                showXp(player.id,player.bakugan.xp);
                showRest(player);
            }

            function showHp(id, actual, previous){
                if(actual != previous){
                    document.getElementById("player"+id+"-hp-bar-changes").style.display = "block";
                    if(actual > previous){
                        document.getElementById("player"+id+"-hp-bar-changes").innerHTML = "+" + (actual - previous);
                    } else{
                        document.getElementById("player"+id+"-hp-bar-changes").innerHTML = "-" + (previous - actual);
                    }
                    countEffect("player"+id+"-hp-bar", previous , actual);
                    countEffect("player"+id+"-hp-value", previous, actual);
                } else{
                    document.getElementById("player"+id+"-hp-bar-changes").style.display = "none";
                }
            }

            function showXp(id, xp){
                document.getElementById("player"+id+"-xp-bar").value = (xp.toFixed(2)*100).toString();
                document.getElementById("player"+id+"-xp-value").innerHTML = xp.toFixed(2);
            }

            function showRest(player){
                document.getElementById("player"+player.id+"-photo").src= "/photos/bakugan/"+player.bakugan.name+"_"+player.domain+".png";
                document.getElementById("player"+player.id+"-nick").innerHTML = player.name;
            }

            function countEffect(id, previous, actual) {
                let i = previous;
                const interval = setInterval(() => {
                    if (previous > actual) {
                        if (i <= actual) {
                            clearInterval(interval);
                        } else {
                            i--;
                        }
                    } else {
                        if (i >= actual) {
                            clearInterval(interval);
                        } else {
                            i++;
                        }
                    }
                    if(id.endsWith("bar")){
                        document.getElementById(id).value = i;
                    } else{
                        document.getElementById(id).innerHTML = i;
                    }
                }, 8);
            }

            function killPlayer(player){
                document.getElementById("player"+player.id+"-photo").style.display = "none";
                document.getElementById("player"+player.id+"-hp-bar").style.display = "none";
                document.getElementById("player"+player.id+"-hp-value").style.display = "none";
                document.getElementById("player"+player.id+"-xp-bar").style.display = "none";
                document.getElementById("player"+player.id+"-xp-value").style.display = "none";
                document.getElementById("player"+player.id+"-nick").style.display = "none";
                document.getElementById("player"+player.id+"-hp-bar-changes").style.display="none";
            }

            function revivePlayer(player){
                document.getElementById("player"+player.id+"-photo").style.display = "block";
                document.getElementById("player"+player.id+"-hp-bar").style.display = "block";
                document.getElementById("player"+player.id+"-hp-value").style.display = "block";
                document.getElementById("player"+player.id+"-xp-bar").style.display = "block";
                document.getElementById("player"+player.id+"-xp-value").style.display = "block";
                document.getElementById("player"+player.id+"-nick").style.display = "block";
                document.getElementById("player"+player.id+"-hp-bar-changes").style.display= "block";
            }

            function setImg(path, n){
                if(path.endsWith("logo.png")){
                    document.getElementById("card"+n+"-img").style.width = "50%";
                }
                document.getElementById("card"+n+"-img").src = path;
                document.getElementById("card"+n+"-img-back").src = path;
            }

            function setCardData(name, igniteValue, permanentIgnite,  card, n){
                displayCard(name,igniteValue,permanentIgnite,card,n);
                document.getElementById("who-goes"+n).innerHTML= name;
                document.getElementById("card"+n+"-name").innerHTML = card.name;
                document.getElementById("card"+n+"-type").innerHTML = card.type;
                if((permanentIgnite > 0 || igniteValue > 0) && card.type !== "heal-single" && card.type !== "heal-area" && card.type !== "ignite-single" && card.type !== "ignite-area" && card.type !== "forbidden-card"){
                    document.getElementById("card"+n+"-desc").innerHTML = card.desc + " (+"+(igniteValue+permanentIgnite)+")";
                } else {
                    document.getElementById("card"+n+"-desc").innerHTML = card.desc;
                }
            }

            function getCard(id, deck){
                return new Card(
                    document.getElementById(id+"-name").innerHTML,
                    document.getElementById(id+"-type").innerHTML,
                    document.getElementById(id+"-desc").innerHTML,
                    findValue(deck, document.getElementById(id+"-name").innerHTML),
                    isBlock(document.getElementById(id+"-type").innerHTML)
                );
            }

            function printBlock(id){
                document.getElementById("player" + id + "-xp-bar-changes").style.display = "block";
                document.getElementById("player" + id + "-xp-bar-changes").innerHTML = "block";
            }

            function hideBlock(id){
                document.getElementById("player" + id + "-xp-bar-changes").style.display = "none";
            }

            function init(){
                return [
                    new Player(
                        [[${players[0].id}]],
                        [[${players[0].name}]],
                        [[${players[0].teams_name}]],
                        new Bakugan(
                            [[${players[0].bakugan.id}]],
                            [[${players[0].bakugan.name}]],
                            [[${players[0].bakugan.type}]],
                            [[${players[0].bakugan.hp}]],
                            [[${players[0].bakugan.xp}]],
                            [[${players[0].bakugan.xpMultiplier}]],
                            [[${players[0].bakugan.block}]],
                            1,
                            5000
                        ),
                        [[${players[0].domain}]],
                        [
                            new Card(
                                [[${players[0].deck[0].name}]],
                                [[${players[0].deck[0].type}]],
                                [[${players[0].deck[0].description}]],
                                [[${players[0].deck[0].value}]],
                                [[${players[0].deck[0].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[1].name}]],
                                [[${players[0].deck[1].type}]],
                                [[${players[0].deck[1].description}]],
                                [[${players[0].deck[1].value}]],
                                [[${players[0].deck[1].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[2].name}]],
                                [[${players[0].deck[2].type}]],
                                [[${players[0].deck[2].description}]],
                                [[${players[0].deck[2].value}]],
                                [[${players[0].deck[2].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[3].name}]],
                                [[${players[0].deck[3].type}]],
                                [[${players[0].deck[3].description}]],
                                [[${players[0].deck[3].value}]],
                                [[${players[0].deck[3].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[4].name}]],
                                [[${players[0].deck[4].type}]],
                                [[${players[0].deck[4].description}]],
                                [[${players[0].deck[4].value}]],
                                [[${players[0].deck[4].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[5].name}]],
                                [[${players[0].deck[5].type}]],
                                [[${players[0].deck[5].description}]],
                                [[${players[0].deck[5].value}]],
                                [[${players[0].deck[5].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[6].name}]],
                                [[${players[0].deck[6].type}]],
                                [[${players[0].deck[6].description}]],
                                [[${players[0].deck[6].value}]],
                                [[${players[0].deck[6].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[7].name}]],
                                [[${players[0].deck[7].type}]],
                                [[${players[0].deck[7].description}]],
                                [[${players[0].deck[7].value}]],
                                [[${players[0].deck[7].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[8].name}]],
                                [[${players[0].deck[8].type}]],
                                [[${players[0].deck[8].description}]],
                                [[${players[0].deck[8].value}]],
                                [[${players[0].deck[8].sets_block}]]
                            ),
                            new Card(
                                [[${players[0].deck[9].name}]],
                                [[${players[0].deck[9].type}]],
                                [[${players[0].deck[9].description}]],
                                [[${players[0].deck[9].value}]],
                                [[${players[0].deck[9].sets_block}]]
                            )
                        ]
                    ),
                    new Player(
                        [[${players[1].id}]],
                        [[${players[1].name}]],
                        [[${players[1].teams_name}]],
                        new Bakugan(
                            [[${players[1].bakugan.id}]],
                            [[${players[1].bakugan.name}]],
                            [[${players[1].bakugan.type}]],
                            [[${players[1].bakugan.hp}]],
                            [[${players[1].bakugan.xp}]],
                            [[${players[1].bakugan.xpMultiplier}]],
                            [[${players[1].bakugan.block}]],
                            1,
                            5000
                        ),
                        [[${players[1].domain}]],
                        [
                            new Card(
                                [[${players[1].deck[0].name}]],
                                [[${players[1].deck[0].type}]],
                                [[${players[1].deck[0].description}]],
                                [[${players[1].deck[0].value}]],
                                [[${players[1].deck[0].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[1].name}]],
                                [[${players[1].deck[1].type}]],
                                [[${players[1].deck[1].description}]],
                                [[${players[1].deck[1].value}]],
                                [[${players[1].deck[1].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[2].name}]],
                                [[${players[1].deck[2].type}]],
                                [[${players[1].deck[2].description}]],
                                [[${players[1].deck[2].value}]],
                                [[${players[1].deck[2].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[3].name}]],
                                [[${players[1].deck[3].type}]],
                                [[${players[1].deck[3].description}]],
                                [[${players[1].deck[3].value}]],
                                [[${players[1].deck[3].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[4].name}]],
                                [[${players[1].deck[4].type}]],
                                [[${players[1].deck[4].description}]],
                                [[${players[1].deck[4].value}]],
                                [[${players[1].deck[4].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[5].name}]],
                                [[${players[1].deck[5].type}]],
                                [[${players[1].deck[5].description}]],
                                [[${players[1].deck[5].value}]],
                                [[${players[1].deck[5].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[6].name}]],
                                [[${players[1].deck[6].type}]],
                                [[${players[1].deck[6].description}]],
                                [[${players[1].deck[6].value}]],
                                [[${players[1].deck[6].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[7].name}]],
                                [[${players[1].deck[7].type}]],
                                [[${players[1].deck[7].description}]],
                                [[${players[1].deck[7].value}]],
                                [[${players[1].deck[7].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[8].name}]],
                                [[${players[1].deck[8].type}]],
                                [[${players[1].deck[8].description}]],
                                [[${players[1].deck[8].value}]],
                                [[${players[1].deck[8].sets_block}]]
                            ),
                            new Card(
                                [[${players[1].deck[9].name}]],
                                [[${players[1].deck[9].type}]],
                                [[${players[1].deck[9].description}]],
                                [[${players[1].deck[9].value}]],
                                [[${players[1].deck[9].sets_block}]]
                            )
                        ]
                    ),
                    new Player(
                        [[${players[2].id}]],
                        [[${players[2].name}]],
                        [[${players[2].teams_name}]],
                        new Bakugan(
                            [[${players[2].bakugan.id}]],
                            [[${players[2].bakugan.name}]],
                            [[${players[2].bakugan.type}]],
                            [[${players[2].bakugan.hp}]],
                            [[${players[2].bakugan.xp}]],
                            [[${players[2].bakugan.xpMultiplier}]],
                            [[${players[2].bakugan.block}]],
                            1,
                            5000
                        ),
                        [[${players[2].domain}]],
                        [
                            new Card(
                                [[${players[2].deck[0].name}]],
                                [[${players[2].deck[0].type}]],
                                [[${players[2].deck[0].description}]],
                                [[${players[2].deck[0].value}]],
                                [[${players[2].deck[0].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[1].name}]],
                                [[${players[2].deck[1].type}]],
                                [[${players[2].deck[1].description}]],
                                [[${players[2].deck[1].value}]],
                                [[${players[2].deck[1].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[2].name}]],
                                [[${players[2].deck[2].type}]],
                                [[${players[2].deck[2].description}]],
                                [[${players[2].deck[2].value}]],
                                [[${players[2].deck[2].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[3].name}]],
                                [[${players[2].deck[3].type}]],
                                [[${players[2].deck[3].description}]],
                                [[${players[2].deck[3].value}]],
                                [[${players[2].deck[3].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[4].name}]],
                                [[${players[2].deck[4].type}]],
                                [[${players[2].deck[4].description}]],
                                [[${players[2].deck[4].value}]],
                                [[${players[2].deck[4].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[5].name}]],
                                [[${players[2].deck[5].type}]],
                                [[${players[2].deck[5].description}]],
                                [[${players[2].deck[5].value}]],
                                [[${players[2].deck[5].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[6].name}]],
                                [[${players[2].deck[6].type}]],
                                [[${players[2].deck[6].description}]],
                                [[${players[2].deck[6].value}]],
                                [[${players[2].deck[6].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[7].name}]],
                                [[${players[2].deck[7].type}]],
                                [[${players[2].deck[7].description}]],
                                [[${players[2].deck[7].value}]],
                                [[${players[2].deck[7].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[8].name}]],
                                [[${players[2].deck[8].type}]],
                                [[${players[2].deck[8].description}]],
                                [[${players[2].deck[8].value}]],
                                [[${players[2].deck[8].sets_block}]]
                            ),
                            new Card(
                                [[${players[2].deck[9].name}]],
                                [[${players[2].deck[9].type}]],
                                [[${players[2].deck[9].description}]],
                                [[${players[2].deck[9].value}]],
                                [[${players[2].deck[9].sets_block}]]
                            )
                        ]
                    ),
                    new Player(
                        [[${players[3].id}]],
                        [[${players[3].name}]],
                        [[${players[3].teams_name}]],
                        new Bakugan(
                            [[${players[3].bakugan.id}]],
                            [[${players[3].bakugan.name}]],
                            [[${players[3].bakugan.type}]],
                            [[${players[3].bakugan.hp}]],
                            [[${players[3].bakugan.xp}]],
                            [[${players[3].bakugan.xpMultiplier}]],
                            [[${players[3].bakugan.block}]],
                            1,
                            5000
                        ),
                        [[${players[3].domain}]],
                        [
                            new Card(
                                [[${players[3].deck[0].name}]],
                                [[${players[3].deck[0].type}]],
                                [[${players[3].deck[0].description}]],
                                [[${players[3].deck[0].value}]],
                                [[${players[3].deck[0].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[1].name}]],
                                [[${players[3].deck[1].type}]],
                                [[${players[3].deck[1].description}]],
                                [[${players[3].deck[1].value}]],
                                [[${players[3].deck[1].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[2].name}]],
                                [[${players[3].deck[2].type}]],
                                [[${players[3].deck[2].description}]],
                                [[${players[3].deck[2].value}]],
                                [[${players[3].deck[2].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[3].name}]],
                                [[${players[3].deck[3].type}]],
                                [[${players[3].deck[3].description}]],
                                [[${players[3].deck[3].value}]],
                                [[${players[3].deck[3].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[4].name}]],
                                [[${players[3].deck[4].type}]],
                                [[${players[3].deck[4].description}]],
                                [[${players[3].deck[4].value}]],
                                [[${players[3].deck[4].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[5].name}]],
                                [[${players[3].deck[5].type}]],
                                [[${players[3].deck[5].description}]],
                                [[${players[3].deck[5].value}]],
                                [[${players[3].deck[5].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[6].name}]],
                                [[${players[3].deck[6].type}]],
                                [[${players[3].deck[6].description}]],
                                [[${players[3].deck[6].value}]],
                                [[${players[3].deck[6].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[7].name}]],
                                [[${players[3].deck[7].type}]],
                                [[${players[3].deck[7].description}]],
                                [[${players[3].deck[7].value}]],
                                [[${players[3].deck[7].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[8].name}]],
                                [[${players[3].deck[8].type}]],
                                [[${players[3].deck[8].description}]],
                                [[${players[3].deck[8].value}]],
                                [[${players[3].deck[8].sets_block}]]
                            ),
                            new Card(
                                [[${players[3].deck[9].name}]],
                                [[${players[3].deck[9].type}]],
                                [[${players[3].deck[9].description}]],
                                [[${players[3].deck[9].value}]],
                                [[${players[3].deck[9].sets_block}]]
                            )
                        ]
                    )
                ];
            }
        </script>
    </body>
</html>